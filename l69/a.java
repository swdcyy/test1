package l69.a;
import h69.b;
import java.lang.Object;
import com.kuaishou.android.model.music.Music;
import java.lang.Class;
import java.lang.String;
import com.kwai.robust.PatchProxy;
import com.kwai.robust.PatchProxyResult;
import l69.n;
import h69.c;
import i69.f;
import kotlin.jvm.internal.a;
import com.kuaishou.edit.draft.Workspace$Source;
import com.yxcorp.gifshow.aicutv2.VideoTemplateProject;
import java.util.List;
import com.yxcorp.gifshow.aicut.kwai.memory.AICutAnnualMemoryProject;
import java.util.ArrayList;
import com.kwai.feature.post.api.feature.memory.MemorySceneType;
import java.lang.CharSequence;
import com.yxcorp.utility.TextUtils;
import com.kwai.video.ksmemorykit.EditorMemoryParamsImpl;
import com.kwai.video.ksmemorykit.EditorMemoryAsset;
import o69.c;
import h69.a;
import h69.g;
import q87.c;
import com.yxcorp.gifshow.aicut.VideoTemplateResponse;
import l69.o;
import com.kuaishou.edit.draft.Workspace$Type;
import com.kuaishou.edit.draft.Workspace$From;
import com.kuaishou.client.log.content.packages.nano.ClientContent$LocalIntelligentAlbumPackage;
import com.kwai.video.minecraft.model.EditorSdk2V2$VideoEditorProject;
import com.yxcorp.gifshow.edit.draft.model.workspace.c;
import com.yxcorp.gifshow.aicut.VideoTemplate;
import brd.t;
import v69.d;
import v69.b;
import kotlin.collections.CollectionsKt__CollectionsKt;
import android.app.Activity;
import com.kwai.feature.post.api.aicut.AICutProjectOption;
import com.yxcorp.gifshow.aicut.kwai.KSPOSTAICutLoadingActivity;
import java.lang.Integer;
import com.yxcorp.gifshow.aicut.kwai.KSPOSTAICutLoadingActivity$a;
import com.yxcorp.gifshow.aicut.api.AICutStyle;
import o69.w0;
import l69.a$a;
import erd.o;
import java.lang.Double;
import java.util.Objects;
import com.yxcorp.gifshow.activity.GifshowActivity;
import h69.i;
import n3d.a;
import com.yxcorp.gifshow.aicutv2.musictemplate.MusicTemplateAlbumActivity;
import com.yxcorp.gifshow.aicutv2.musictemplate.MusicTemplateAlbumActivity$a;
import java.lang.System;
import w46.b;
import java.lang.StringBuilder;
import u69.e;
import android.content.Intent;
import android.content.Context;
import o79.a;
import w69.b$a;
import w69.f$a;
import w69.k$a;
import com.yxcorp.gifshow.album.AlbumLimitOption$Builder;
import uxb.o;
import j79.a;
import j79.a$a;
import j79.a$b;
import ga9.c;
import java.util.HashMap;
import nsd.u;
import com.yxcorp.gifshow.album.viewbinder.AbsAlbumFragmentViewBinder;
import com.yxcorp.gifshow.album.viewbinder.ShareSelectContainerAlbumFragmentViewBinder;
import com.yxcorp.gifshow.album.viewbinder.AbsPreviewItemViewBinder;
import com.yxcorp.gifshow.album.viewbinder.PreviewItemClickViewBinder;
import com.yxcorp.gifshow.album.viewbinder.AbsPreviewFragmentViewBinder;
import com.yxcorp.gifshow.album.viewbinder.PreviewItemNoChoiceViewBinder;
import w69.i$a;
import w69.b;
import w69.f;
import com.yxcorp.gifshow.album.AlbumLimitOption;
import w69.k;
import e16.a$a;
import w69.i;
import e16.a;
import x79.d;
import androidx.fragment.app.FragmentActivity;
import com.yxcorp.gifshow.album.IAlbumMainFragment;
import java.lang.Boolean;
import q79.d;
import com.yxcorp.gifshow.base.fragment.AlbumBaseFragment;
import ga9.a;
import androidx.fragment.app.Fragment;
import androidx.lifecycle.ViewModelProvider;
import androidx.lifecycle.ViewModelProviders;
import androidx.lifecycle.ViewModel;
import android.widget.TextView;
import r79.c;
import com.yxcorp.gifshow.models.QMedia;
import l69.l;
import android.view.View$OnClickListener;
import android.view.View;
import android.animation.AnimatorSet;
import android.graphics.drawable.Drawable;
import lnc.a1;
import android.util.Property;
import android.animation.ObjectAnimator;
import l69.h;
import android.animation.Animator$AnimatorListener;
import th0.d;
import android.animation.TimeInterpolator;
import java.util.Collection;
import l69.g;
import com.kuaishou.client.log.event.packages.nano.ClientEvent$ElementPackage;
import com.kuaishou.client.log.content.packages.nano.ClientContent$ContentPackage;
import k2b.u1;
import com.yxcorp.gifshow.aicut.KwaiAICutStyle;
import s69.i;
import com.yxcorp.gifshow.aicut.api.AICutGroupType;
import o69.q1;
import kotlin.Pair;
import io.reactivex.subjects.PublishSubject;
import o69.w1;
import t45.d;
import brd.z;
import o69.x1;
import o69.y1;
import erd.g;
import o69.z1;
import o69.a2;
import erd.a;
import o69.d2;
import pr3.e;
import java.lang.Iterable;
import trd.u;
import java.util.Iterator;
import pr3.d;
import l69.a$e;
import com.yxcorp.gifshow.aicut.api.AICutMusicInfo;
import l69.t;
import com.kwai.video.editorsdk2.model.ImmutableArray;
import o69.m1;
import java.lang.Long;
import h69.f;
import h69.j;
import java.lang.Number;
import l69.a$b;
import com.kwai.kve.AlbumType;
import com.yxcorp.gifshow.util.PostExperimentUtils;
import o56.c;
import o56.a;
import xf6.g;
import com.kwai.framework.abtest.f;
import c16.c;
import l69.b;
import l69.c;
import java.util.concurrent.TimeUnit;
import l69.a$c;
import l69.a$d;
import android.view.ViewGroup$LayoutParams;
import android.view.ViewPropertyAnimator;
import l69.m;
import java.lang.IllegalStateException;
import java.lang.Throwable;
import t69.d;
import com.yxcorp.gifshow.aicut.api.AICutErrorCode;
import l69.i;
import java.lang.Runnable;
import l69.u;
import java.io.File;
import brd.w;
import pr3.k;
import boc.e;
import boc.b;
import l69.j;
import l69.k;
import crd.b;

public class a implements b	// class@002c93
{

    public void a(){
       super();
    }
    public Music A(){
       Object obj = PatchProxy.apply(null, this, a.class, "11");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       return n.f.b();
    }
    public f Br(c p0){
       VideoTemplateProject videoTemplat;
       AICutAnnualMemoryProject obj = PatchProxy.applyOneRefs(p0, this, a.class, "9");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       a.p(p0, "params");
       obj = (p0.e() == Workspace$Source.ANNUAL_ALBUM_2022 || p0.e() == Workspace$Source.ANNUAL_ALBUM_2022_LOCAL)? new AICutAnnualMemoryProject(p0.c, p0.p): new VideoTemplateProject(p0.b());
       if (!TextUtils.x(p0.a())) {
          EditorMemoryParamsImpl uEditorMemor = new EditorMemoryParamsImpl();
          uEditorMemor.setCoverAsset(new EditorMemoryAsset(p0.a()));
          obj.J = uEditorMemor;
       }
       obj.K = p0.h;
       if (!TextUtils.x(p0.d())) {
          String str = p0.d();
          if (!PatchProxy.applyVoidOneRefs(str, obj, c.class, "4")) {
             a.p(str, "<set-?>");
             obj.n = str;
          }
       }
       obj.M = p0.j;
       obj.L = p0.i;
       obj.I = p0.m;
       obj.N = p0.k;
       a b = a.b;
       f uof = b.a();
       if (uof instanceof AICutAnnualMemoryProject && (uof.Z0() == Workspace$Source.ANNUAL_ALBUM_2022_LOCAL && obj instanceof AICutAnnualMemoryProject)) {
          Object[] objArray = new Object[0];
          g.D().w("AICutInternalPluginImpl", "createAICutProject: use old", objArray);
          obj.S0(uof.M0());
       }
    label_00b6 :
       if (p0.c() != null) {
          obj.S0(p0.c());
       }
       b.b(obj);
       o oo = new o(obj, p0.a, p0.d, p0.e(), p0.f, p0.n, p0.l);
       n.f.h(uof);
       return obj;
    }
    public void Ia(EditorSdk2V2$VideoEditorProject p0,c p1){
       if (PatchProxy.applyVoidTwoRefs(p0, p1, this, a.class, "14")) {
          return;
       }
       a.p(p0, "editorProject");
       a.p(p1, "draft");
       o oo = n.f.d();
       if (oo != null) {
          oo.h(p0, p1);
       }
       return;
    }
    public VideoTemplate LM(){
       Object[] objArray = null;
       f obj = PatchProxy.apply(objArray, this, a.class, "31");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = a.b.a();
       if (obj != null) {
          objArray = obj.J0();
       }
       return objArray;
    }
    public t ME(){
       Object obj = PatchProxy.apply(null, this, a.class, "40");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       return d.b.a().a(Workspace$Source.ANNUAL_ALBUM_2022_LOCAL, CollectionsKt__CollectionsKt.E(), 0);
    }
    public void Np(Activity p0,AICutProjectOption p1){
       if (PatchProxy.applyVoidTwoRefs(p0, p1, this, a.class, "25")) {
          return;
       }
       a.p(p0, "activity");
       a.p(p1, "option");
       AICutProjectOption mMedias = p1.mMedias;
       a.o(mMedias, "option.mMedias");
       AICutProjectOption mTaskId = p1.mTaskId;
       a.o(mTaskId, "option.mTaskId");
       KSPOSTAICutLoadingActivity.V.b(p0, mMedias, mTaskId, p1.mThemeId, p1.mTemplateType, p1.mMusicId, Integer.valueOf(p1.mMusicType), false);
       return;
    }
    public t Oc(AICutStyle p0){
       Object obj = PatchProxy.applyOneRefs(p0, this, a.class, "22");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       a.p(p0, "style");
       n.f.f();
       t ot = w0.c(p0).map(a$a.b);
       a.o(ot, "downloadStyle\(style\)\n   \x20\x02lutePath ?: \"\"\)\n        }\x00");
       return ot;
    }
    public void P3(double p0){
       f a;
       a uoa = a.class;
       if (PatchProxy.isSupport(uoa) && PatchProxy.applyVoidOneRefs(Double.valueOf(p0), this, uoa, "20")) {
          return;
       }
       uoa = a.b;
       Objects.requireNonNull(uoa);
       if (!PatchProxy.isSupport(a.class) || !PatchProxy.applyVoidOneRefs(Double.valueOf(p0), uoa, a.class, "8")) {
          a = a.a;
          if (a != null) {
             a.P3(p0);
          }
       }
       return;
    }
    public void Pt(GifshowActivity p0,i p1,a p2){
       MusicTemplateAlbumActivity$a this;
       Object[] objArray;
       Object obj = p0;
       Object obj1 = p1;
       if (PatchProxy.applyVoidThreeRefs(p0, p1, p2, this, a.class, "38")) {
          return;
       }
       String str = "activity";
       a.p(obj, str);
       String str1 = "launchParams";
       a.p(obj1, str1);
       this = MusicTemplateAlbumActivity.X;
       Objects.requireNonNull(this);
       if (!PatchProxy.applyVoidThreeRefs(p0, p1, p2, this, MusicTemplateAlbumActivity$a.class, "1")) {
          a.p(obj, str);
          a.p(obj1, str1);
          String str2 = "MusicTemplateAlbumActivity";
          int i = 0;
          if ((System.currentTimeMillis() - MusicTemplateAlbumActivity.W) - (long)2000 < 0) {
             objArray = new Object[i];
             g.D().A(str2, "open music template album too frequently, denied", objArray);
          }else if(TextUtils.x(p1.a())){
             objArray = new Object[i];
             g.D().t(str2, "invalid music info", objArray);
          }else {
             MusicTemplateAlbumActivity.W = System.currentTimeMillis();
             Object[] objArray1 = new Object[i];
             g.D().w(str2, "launch invoked with "+obj1, objArray1);
             Intent intent = PatchProxy.applyOneRefs(obj, null, e.class, "1");
             if (intent != PatchProxyResult.class) {
             }else {
                a.p(obj, str);
                intent = new Intent(obj, MusicTemplateAlbumActivity.class);
                super();
                this.c(true);
                f$a uoa = new f$a();
                uoa.g(a.a);
                uoa.c(2);
                k$a uoa1 = new k$a();
                uoa1.n(true);
                uoa1.q(true);
                a$a uoa2 = a.p.a();
                uoa2.d(true);
                c uoc = new c(null, null, false, 7, null);
                d.a(intent, new a$a().h(true).g(new i$a().a(this.a()).d(uoa.a()).g(uoa2.a()).n(v15.e(AbsAlbumFragmentViewBinder.class, ShareSelectContainerAlbumFragmentViewBinder.class).e(AbsPreviewItemViewBinder.class, PreviewItemClickViewBinder.class).e(AbsPreviewFragmentViewBinder.class, PreviewItemNoChoiceViewBinder.class)).f(o.a().a("post_music_template").d()).m(uoa1.r(i).b()).b()).f());
             }
             intent.putExtra("KEY_MUSIC_TEMPLATE_MUSIC_ID", p1.a());
             intent.putExtra("KEY_MUSIC_TEMPLATE_MUSIC_TYPE", obj1.b);
             intent.putExtra("KEY_MUSIC_TEMPLATE_TASK_ID", obj1.c);
             obj.t1(intent, 101, p2);
          }
       }
       return;
    }
    public void Pu(FragmentActivity p0,IAlbumMainFragment p1,AICutProjectOption p2,boolean p3,boolean p4,boolean p5,String p6,boolean p7){
       Object[] objArray;
       Object[] this;
       FragmentActivity activity;
       View view;
       g a;
       object oobject = p0;
       object oobject1 = p1;
       object oobject2 = p2;
       boolean b = p4;
       object oobject3 = p6;
       a uoa = a.class;
       String str = "1";
       int i = 7;
       int i1 = 5;
       int i2 = 4;
       int i3 = 3;
       int i4 = 6;
       int i5 = 8;
       int i6 = 2;
       boolean i7 = 0;
       if (PatchProxy.isSupport(uoa)) {
          objArray = new Object[i5];
          objArray[i7] = oobject;
          objArray[1] = oobject1;
          objArray[i6] = oobject2;
          objArray[i3] = Boolean.valueOf(p3);
          objArray[i2] = Boolean.valueOf(p4);
          objArray[i1] = Boolean.valueOf(p5);
          objArray[i4] = oobject3;
          objArray[i] = Boolean.valueOf(p7);
          if (PatchProxy.applyVoid(objArray, this, uoa, str)) {
             return;
          }
       }else {
          i = this;
       }
       String str1 = "activity";
       a.p(oobject, str1);
       String str2 = "albumMainFragment";
       a.p(oobject1, str2);
       String str3 = "option";
       a.p(oobject2, str3);
       String str4 = "cleanMode";
       a.p(oobject3, str4);
       n f = n.f;
       Objects.requireNonNull(f);
       d uod = d.class;
       if (PatchProxy.isSupport(n.class)) {
          this = new Object[i5];
          this[i7] = oobject;
          this[1] = oobject1;
          this[2] = oobject2;
          this[3] = Boolean.valueOf(p3);
          this[4] = Boolean.valueOf(p4);
          this[5] = Boolean.valueOf(p5);
          this[6] = oobject3;
          this[7] = Boolean.valueOf(p7);
          if (!PatchProxy.applyVoid(this, f, n.class, "6")) {
          label_00a7 :
             a.p(oobject, str1);
             a.p(oobject1, str2);
             a.p(oobject2, str3);
             a.p(oobject3, str4);
             AlbumBaseFragment uAlbumBaseFr = p1.b();
             str2 = "albumMainFragment.fragment";
             a.o(uAlbumBaseFr, str2);
             activity = uAlbumBaseFr.getActivity();
             d uod1 = (activity != null)? ViewModelProviders.of(activity).get(uod): 0;
             Object[] objArray1 = new Object[i7];
             g.D().w("KwaiAICutModule", "updateAICutView: option="+oobject2, objArray1);
             TextView textView = f.a(oobject1, p7);
             if (b) {
                List list = f.e(oobject1);
                if (list.isEmpty()) {
                   uAlbumBaseFr = p1.b();
                   a.o(uAlbumBaseFr, str2);
                   activity = uAlbumBaseFr.getActivity();
                   if (activity != null) {
                      ViewModel viewModel = ViewModelProviders.of(activity).get(uod);
                      a.o(viewModel, "ViewModelProviders.of\(it¡­setViewModel::class.java\)");
                      c uoc = viewModel.w0();
                      if (uoc != null) {
                         ArrayList uArrayList = new ArrayList();
                         oobject2.mMedias = uArrayList;
                         uArrayList.add(uoc);
                      }
                   }
                }else {
                   oobject2.mMedias = list;
                }
             }else {
                oobject2.mMedias = f.e(oobject1);
             }
             i3 = oobject2.mMedias.size();
             this = new Object[i7];
             g.D().w("KwaiAICutModule", "updateAICutView: count="+i3, this);
             l ol = this;
             boolean i8 = i3;
             l ol1 = this;
             TextView textView1 = textView;
             String str5 = str;
             n on = f;
             int i9 = i3;
             i5 = 0;
             ol = new l(i8, p1, p4, p2, uod1, p0, textView1, p6);
             TextView textView2 = textView1;
             textView2.setOnClickListener(ol1);
             AICutProjectOption mMedias = oobject2.mMedias;
             a.o(mMedias, "option.mMedias");
             i7 = (!on.j(mMedias))? true: false;
             if (p1.B3() == null) {
                objArray = new Object[i5];
                g.D().A("KwaiAICutModule", "updateAICutView: parent view not ready", objArray);
             }else {
                view = p1.B3().findViewById(R.id.next_step);
                a.o(view, "albumMainFragment.picked¡­dViewById\(R.id.next_step\)");
                view = (view.getVisibility())? 1: 0;
                i8 = (!p5 && (i9 > 0 || view))? true: false;
                Object[] objArray2 = new Object[i5];
                g.D().w("KwaiAICutModule", "updateAICutView: showButton="+i8, objArray2);
                i1 = 0x7f0a3cca;
                if (!PatchProxy.applyVoidOneRefs(textView2, on, n.class, "7") && (textView2.getTag(i1) != null && textView2.getTag(i1) instanceof AnimatorSet)) {
                   Object tag = textView2.getTag(i1);
                   Objects.requireNonNull(tag, "null cannot be cast to non-null type android.animation.AnimatorSet");
                   tag.cancel();
                }
             label_0200 :
                String AnimatorSet str6 = 0x7f0800d9;
                i2 = 0x7f0800d8;
                Property property = null;
                int i10 = 0x3f800000;
                if (p3) {
                   on.i(textView2);
                   if (!PatchProxy.isSupport(n.class) || !PatchProxy.applyVoidThreeRefs(textView2, Boolean.valueOf(i8), Boolean.valueOf(p4), on, n.class, "8")) {
                      if (i8 && (textView2.getVisibility() || (!textView2.getAlpha() - i10 || (!i8 && (textView2.getVisibility() == 8 && !textView2.getAlpha() - property))))) {
                         Drawable uDrawable = (b)? a1.f(str6): a1.f(i2);
                         textView2.setBackground(uDrawable);
                      }else {
                         str6 = new AnimatorSet();
                         ArrayList uArrayList1 = new ArrayList();
                         ObjectAnimator objectAnimat = (i8)? ObjectAnimator.ofFloat(textView2, View.ALPHA, new float[2]{0,0x3f800000}): ObjectAnimator.ofFloat(textView2, View.ALPHA, new float[2]{0x3f800000,0});
                         str6.addListener(new h(i8, textView2, b));
                         uArrayList1.add(objectAnimat);
                         str6.setDuration(300);
                         str6.setInterpolator(new d());
                         str6.playTogether(uArrayList1);
                         textView2.setTag(i1, str6);
                         str6.start();
                      }
                   }
                }else if(i8){
                   on.i(textView2);
                   Drawable str61 = (b)? a1.f(str6): a1.f(i2);
                   textView2.setBackground(str61);
                }
                if (!i8) {
                   i5 = 8;
                }
                textView2.setVisibility(i5);
                if (i8) {
                   property = 0x3f800000;
                }
                textView2.setAlpha(property);
                textView2.setSelected(i7);
                if (!n.c && i7) {
                   n.c = true;
                   a = g.a;
                   Objects.requireNonNull(a);
                   if (!PatchProxy.applyVoid(null, a, g.class, str5)) {
                      ClientEvent$ElementPackage uElementPack = new ClientEvent$ElementPackage();
                      uElementPack.action2 = "PRODUCE_AI_CUT";
                      u1.u0(6, uElementPack, null);
                   }
                }
             }
          }
       }else {
          goto label_00a7 ;
       }
       return;
    }
    public KwaiAICutStyle QC(){
       KwaiAICutStyle obj = PatchProxy.apply(null, this, a.class, "35");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = new KwaiAICutStyle();
       obj.mStyleId = "-3";
       obj.mLocalDir = i.a.c();
       return obj;
    }
    public t Qk(AICutGroupType p0){
       List a;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       String obj = PatchProxy.applyOneRefs(p0, this, a.class, "16");
       if (obj != patchProxyRe) {
          return obj;
       }
       obj = "groupType";
       a.p(p0, obj);
       q1 h = q1.h;
       Objects.requireNonNull(h);
       t ot = PatchProxy.applyOneRefs(p0, h, q1.class, "1");
       if (ot != patchProxyRe) {
       }else {
          a.p(p0, obj);
          int i = 0;
          Object[] objArray = new Object[i];
          g.D().w("AICutStyleInfoManager", "loadGroupAndStylesFromCache\(\) called", objArray);
          h.e(p0);
          List b = q1.b;
          if (b.isEmpty() ^ 0x01) {
             a = q1.a;
             if (a.isEmpty() ^ 0x01) {
                Object[] objArray1 = new Object[i];
                g.D().w("AICutStyleInfoManager", "loadGroupAndStylesFromCache\(\) use memory cache", objArray1);
                ot = t.just(new Pair(b, a));
                a.o(ot, "Observable.just\(Pair\(mGr¡­emCache, mStyleMemCache\)\)");
             }
          }
          if (q1.f != null) {
             Object[] objArray2 = new Object[i];
             g.D().w("AICutStyleInfoManager", "loadGroupAndStylesFromCache: return mRequestFromCache", objArray2);
             ot = q1.f;
             a.m(ot);
          }else {
             q1.f = PublishSubject.g();
             z a1 = d.a;
             t ot1 = h.g().flatMap(w1.b).subscribeOn(d.c).observeOn(a1).flatMap(x1.b).observeOn(a1);
             ot = ot1.doOnNext(y1.b).doOnError(z1.b).doFinally(a2.b);
             a.o(ot, "doBeforeRequestStyleList¡­romCache = null\n        }");
          }
       }
       return ot;
    }
    public t R50(List p0,int p1){
       d2 obj;
       a uoa = a.class;
       if (PatchProxy.isSupport(uoa)) {
          obj = PatchProxy.applyTwoRefs(p0, Integer.valueOf(p1), this, uoa, "39");
          if (obj != PatchProxyResult.class) {
             return obj;
          }
       }
       a.p(p0, "medias");
       obj = new d2();
       obj.j(true);
       obj.h(p1);
       e uoe = new e(true);
       e d = uoe.d;
       ArrayList uArrayList = new ArrayList(u.Y(p0, 10));
       Iterator iterator = p0.iterator();
       while (iterator.hasNext()) {
          uArrayList.add(new d(iterator.next()));
       }
       d.addAll(uArrayList);
       t ot = obj.l(p0).map(new a$e(uoe));
       a.o(ot, "aiCutTransCoder.transCod¡­ogress\n      result\n    }");
       return ot;
    }
    public Music X40(String p0){
       Object obj = PatchProxy.applyOneRefs(p0, this, a.class, "12");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       a.p(p0, "styleId");
       return n.f.c(p0);
    }
    public List Ye(){
       o a;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       Object[] objArray = null;
       n obj = PatchProxy.apply(objArray, this, a.class, "13");
       if (obj != patchProxyRe) {
          return obj;
       }
       obj = n.f;
       Objects.requireNonNull(obj);
       Object[] objArray1 = PatchProxy.apply(objArray, obj, n.class, "22");
       if (objArray1 != patchProxyRe) {
       }else {
          a = n.a;
          if (a != null) {
             VideoTemplateProject videoTemplat = a.b();
             if (videoTemplat != null) {
                ArrayList uArrayList = videoTemplat.T();
                if (uArrayList != null) {
                   objArray = new ArrayList(u.Y(uArrayList, 10));
                   Iterator iterator = uArrayList.iterator();
                   while (iterator.hasNext()) {
                      objArray.add(t.a.b(iterator.next()));
                   }
                }
             }
          }
          objArray1 = objArray;
       }
       return objArray1;
    }
    public void Yq(EditorSdk2V2$VideoEditorProject p0){
       f a;
       if (PatchProxy.applyVoidOneRefs(p0, this, a.class, "18")) {
          return;
       }
       a.p(p0, "project");
       a b = a.b;
       Objects.requireNonNull(b);
       if (!PatchProxy.applyVoidOneRefs(p0, b, a.class, "6")) {
          a.p(p0, "videoProject");
          ImmutableArray immutableArr = p0.trackAssets();
          if (immutableArr != null && immutableArr.isNotEmpty() == true) {
             a = a.a;
             if (a != null) {
                a.x(p0);
             }
          }
          Object[] objArray = new Object[0];
          g.D().w("AICutApi", "updateVideoProject called", objArray);
       }
       return;
    }
    public boolean ba(AICutStyle p0){
       Object obj = PatchProxy.applyOneRefs(p0, this, a.class, "21");
       if (obj != PatchProxyResult.class) {
          return obj.booleanValue();
       }
       a.p(p0, "style");
       n.f.f();
       return m1.e(p0);
    }
    public void c8(c p0,VideoTemplate p1){
       if (PatchProxy.applyVoidTwoRefs(p0, p1, this, a.class, "34")) {
          return;
       }
       a.p(p0, "draft");
       a.p(p1, "template");
       o oo = n.f.d();
       if (oo != null) {
          oo.o(p0, p1, true, false);
       }
       return;
    }
    public t cP(long p0,String p1){
       n obj;
       a uoa = a.class;
       if (PatchProxy.isSupport(uoa)) {
          obj = PatchProxy.applyTwoRefs(Long.valueOf(p0), p1, this, uoa, "26");
          if (obj != PatchProxyResult.class) {
             return obj;
          }
       }
       obj = n.f;
       if (obj.d() == null) {
          t ot = t.just(Boolean.TRUE);
          a.o(ot, "Observable.just\(true\)");
          return ot;
       }else {
          o oo = obj.d();
          a.m(oo);
          return oo.j(p0, p1);
       }
    }
    public f getProject(){
       Object obj = PatchProxy.apply(null, this, a.class, "6");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       return a.b.a();
    }
    public void ib(f p0){
       if (PatchProxy.applyVoidOneRefs(p0, this, a.class, "8")) {
          return;
       }
       if (!p0 instanceof o) {
          return;
       }
       a.b.b(p0.b());
       n.f.h(p0);
       return;
    }
    public boolean isAvailable(){
       return true;
    }
    public void jF(){
       if (PatchProxy.applyVoid(null, this, a.class, "36")) {
          return;
       }
       o oo = n.f.d();
       if (oo != null) {
          oo.q();
       }
       return;
    }
    public f jq(){
       Object obj = PatchProxy.apply(null, this, a.class, "7");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       return n.f.d();
    }
    public void jv(c p0){
       if (PatchProxy.applyVoidOneRefs(p0, this, a.class, "33")) {
          return;
       }
       a.p(p0, "draft");
       o oo = n.f.d();
       if (oo != null) {
          oo.p(p0);
       }
       return;
    }
    public t kT(List p0,int p1,List p2,List p3,List p4,boolean p5,boolean p6,EditorSdk2V2$VideoEditorProject p7,int p8){
       t ot1;
       int i8;
       t obj = this;
       object oobject = p0;
       object oobject1 = p2;
       object oobject2 = p3;
       object oobject3 = p4;
       object oobject4 = p7;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       a uoa = a.class;
       int i = 6;
       int i1 = 5;
       int i2 = 3;
       int i3 = 0;
       int i4 = 4;
       int i5 = 2;
       int i6 = 1;
       if (PatchProxy.isSupport(uoa)) {
          Object[] objArray = new Object[9];
          objArray[i3] = oobject;
          objArray[i6] = Integer.valueOf(p1);
          objArray[i5] = oobject1;
          objArray[i2] = oobject2;
          objArray[i4] = oobject3;
          objArray[i1] = Boolean.valueOf(p5);
          objArray[i] = Boolean.valueOf(p6);
          objArray[7] = oobject4;
          objArray[8] = Integer.valueOf(p8);
          Object obj1 = PatchProxy.apply(objArray, obj, uoa, "27");
          if (obj1 != patchProxyRe) {
             return obj1;
          }
       }
       a.p(oobject, "mediaList");
       a.p(oobject1, "visibleTime");
       a.p(oobject2, "recommendFlashIds");
       a.p(oobject3, "recommendAiCutIds");
       int i7 = p0.size();
       n f = n.f;
       o oo = f.d();
       a.m(oo);
       Workspace$Source source = oo.e();
       f uof = a.b.a();
       Objects.requireNonNull(uof, "null cannot be cast to non-null type com.yxcorp.gifshow.aicutv2.VideoTemplateProject");
       i6 = 10;
       if (j.h(source)) {
          ArrayList uArrayList = new ArrayList(u.Y(oobject3, i6));
          Iterator iterator = p4.iterator();
          while (iterator.hasNext()) {
             uArrayList.add(String.valueOf(iterator.next().longValue()));
          }
          t ot = d.b.a().a(source, uArrayList, p8).doOnNext(new a$b(uof));
          a.o(ot, "VideoTemplateApiServiceM¡­Response = it\n          }");
          return ot;
       }else {
          o oo1 = f.d();
          a.m(oo1);
          String str = oo1.f();
          String str1 = uof.K0();
          if (str1 == null) {
             str1 = "";
          }
          String str2 = uof.U();
          if (p5) {
             i3 = 4;
          }else if(p6){
             i3 = 6;
          }else if(uof.J() == AlbumType.AICUT){
             i3 = 1;
          }else {
             i3 = 2;
          }
          if (PatchProxy.isSupport(uoa)) {
             Object[] objArray1 = new Object[i1];
             objArray1[0] = oobject;
             objArray1[1] = oobject2;
             objArray1[2] = oobject3;
             objArray1[3] = str1;
             objArray1[4] = oobject4;
             ot1 = PatchProxy.apply(objArray1, obj, uoa, "28");
             if (ot1 != patchProxyRe) {
             }else {
             label_011a :
                String str3 = "sceneInfoSwitch";
                if (a.a().c()) {
                   i8 = (g.U0() > 0)? g.U0() - 1: f.e(str3);
                }else {
                   i8 = f.e(str3);
                }
                i6 = i8;
                if (i6 == 2 && !c.d()) {
                   i6 = 1;
                }
                Object[] objArray2 = new Object[0];
                g.D().w("AICutInternalPluginImpl", "getSceneResultObservable, "+"templateRecoStrategy="+i6+", recommendFlashIds="+oobject2+", "+"recommendAiCutIds="+oobject3+", externalSceneResult="+str1, objArray2);
                if (i6) {
                   i8 = 1;
                   if (!(p3.isEmpty() ^ i8) && !(p4.isEmpty() ^ i8)) {
                      if (str1.length() <= 0) {
                         i8 = 0;
                      }
                      if (!i8) {
                         ArrayList uArrayList1 = new ArrayList(u.Y(oobject, 10));
                         Iterator iterator1 = p0.iterator();
                         while (iterator1.hasNext()) {
                            uArrayList1.add(iterator1.next().path);
                         }
                         ot1 = t.just(uArrayList1).observeOn(d.c).flatMap(b.b).flatMap(new c(i6, str1, oobject4, uArrayList1));
                         a.o(ot1, "Observable.just\(mediaPat¡­      }\n        }\n      }");
                      }
                   }
                }
                ot1 = t.just(str1);
                a.o(ot1, "Observable.just\(externalSceneResult\)");
             }
          }else {
             goto label_011a ;
          }
          a$d uod = new a$d(i7, p1, p2, p3, p4, str2, str, i3, uof);
          obj = ot1.timeout(20, TimeUnit.SECONDS).doOnError(a$c.b).flatMap(str1);
          a.o(obj, "getSceneResultObservable¡­ponse\n          }\n      }");
          return obj;
       }
    }
    public void ki(boolean p0,boolean p1,IAlbumMainFragment p2){
       if (PatchProxy.isSupport(a.class) && PatchProxy.applyVoidThreeRefs(Boolean.valueOf(p0), Boolean.valueOf(p1), p2, this, a.class, "2")) {
          return;
       }
       String str = "albumMainFragment";
       a.p(p2, str);
       n f = n.f;
       Objects.requireNonNull(f);
       if (!PatchProxy.isSupport(n.class) || !PatchProxy.applyVoidThreeRefs(Boolean.valueOf(p0), Boolean.valueOf(p1), p2, f, n.class, "9")) {
          a.p(p2, str);
          TextView textView = f.a(p2, true);
          int i = 0;
          if (p0) {
             if (!p1) {
                ViewGroup$LayoutParams layoutParams = textView.getLayoutParams();
                layoutParams.height = a1.e(36.00f);
                textView.setLayoutParams(layoutParams);
                textView.setPadding(a1.d(R.dimen.arg_RES_7f07034b), i, a1.d(R.dimen.arg_RES_7f070253), i);
                textView.setCompoundDrawablePadding(a1.e(2.00f));
             }
          }else if(p1){
             textView.setVisibility(8);
             textView.animate().setListener(null);
             textView.animate().setDuration(50).setListener(new m(textView)).start();
          }else {
             textView.setVisibility(i);
          }
       }
       return;
    }
    public t ku(String p0,List p1,List p2,String p3,boolean p4){
       String obj;
       t ot1;
       object oobject = p1;
       object oobject1 = p2;
       object oobject2 = p3;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       a uoa = a.class;
       int i = 4;
       int i1 = 3;
       int i2 = 5;
       if (PatchProxy.isSupport(uoa)) {
          Object[] objArray = new Object[i2];
          objArray[0] = p0;
          objArray[1] = oobject;
          objArray[2] = oobject1;
          objArray[i1] = oobject2;
          objArray[i] = Boolean.valueOf(p4);
          obj = PatchProxy.apply(objArray, this, uoa, "29");
          if (obj != patchProxyRe) {
             return obj;
          }
       }else {
          int i3 = this;
       }
       obj = "recommendFlashIds";
       a.p(oobject, obj);
       String str = "recommendAiCutIds";
       a.p(oobject1, str);
       a.p(oobject2, "currentSelectedTemplateId");
       o oo = n.f.d();
       VideoTemplateProject videoTemplat = (oo != null)? oo.b(): null;
       if (!videoTemplat instanceof VideoTemplateProject) {
          t ot = t.error(new IllegalStateException("KwaiAICutModule.mCurrentProject is null"));
          a.o(ot, "Observable.error\(Illegal¡­CurrentProject is null\"\)\)");
          return ot;
       }else {
          Objects.requireNonNull(videoTemplat);
          if (PatchProxy.isSupport(VideoTemplateProject.class)) {
             Object[] objArray1 = new Object[i2];
             objArray1[0] = p0;
             objArray1[1] = oobject;
             objArray1[2] = oobject1;
             objArray1[i1] = oobject2;
             objArray1[i] = Boolean.valueOf(p4);
             ot1 = PatchProxy.apply(objArray1, videoTemplat, VideoTemplateProject.class, "5");
             if (ot1 != patchProxyRe) {
             label_00b4 :
                return ot1;
             }
          }
          a.p(oobject, obj);
          a.p(oobject1, str);
          a.p(oobject2, "currentSelectedTemplateId");
          ot1 = videoTemplat.P0(p0, p1, p2, p3, p4, false).map(new d(videoTemplat));
          a.o(ot1, "observableGetTemplates\(v¡­ templateResponse\n      }");
          goto label_00b4 ;
       }
    }
    public boolean mT(){
       boolean b;
       o obj = PatchProxy.apply(null, this, a.class, "32");
       if (obj != PatchProxyResult.class) {
          return obj.booleanValue();
       }
       obj = n.f.d();
       obj = (obj != null)? obj.a: false;
       return obj;
    }
    public void q5(){
       if (PatchProxy.applyVoid(null, this, a.class, "4")) {
          return;
       }
       Objects.requireNonNull(n.f);
       n.d = false;
       n.c = false;
       return;
    }
    public void r00(AICutErrorCode p0){
       if (PatchProxy.applyVoidOneRefs(p0, this, a.class, "24")) {
          return;
       }
       a.p(p0, "error");
       i.a.i(p0);
       return;
    }
    public void release(){
       if (PatchProxy.applyVoid(null, this, a.class, "23")) {
          return;
       }
       n.f.g();
       return;
    }
    public void sU(EditorSdk2V2$VideoEditorProject p0,c p1){
       if (PatchProxy.applyVoidTwoRefs(p0, p1, this, a.class, "5")) {
          return;
       }
       a.p(p0, "project");
       String str = "draft";
       a.p(p1, str);
       n f = n.f;
       Objects.requireNonNull(f);
       if (!PatchProxy.applyVoidTwoRefs(p0, p1, f, n.class, "2")) {
          a.p(p0, "videoProject");
          a.p(p1, str);
          if (n.a == null) {
             AICutAnnualMemoryProject uAICutAnnual = (j.j(p1))? new AICutAnnualMemoryProject(new ArrayList(), null): new VideoTemplateProject(new ArrayList());
             AICutAnnualMemoryProject uAICutAnnual1 = uAICutAnnual;
             a.b.b(uAICutAnnual1);
             o oo = new o(uAICutAnnual1, null, null, null, null, null, false, 126, null);
             n.a = uAICutAnnual;
             uAICutAnnual.h(p0, p1);
          }
       }
       return;
    }
    public void t0(double p0){
       f a;
       a uoa = a.class;
       if (PatchProxy.isSupport(uoa) && PatchProxy.applyVoidOneRefs(Double.valueOf(p0), this, uoa, "19")) {
          return;
       }
       uoa = a.b;
       Objects.requireNonNull(uoa);
       if (!PatchProxy.isSupport(a.class) || !PatchProxy.applyVoidOneRefs(Double.valueOf(p0), uoa, a.class, "7")) {
          a = a.a;
          if (a != null) {
             a.t0(p0);
          }
       }
       return;
    }
    public void tN(){
       if (PatchProxy.applyVoid(null, this, a.class, "17")) {
          return;
       }
       q1.h.f();
       return;
    }
    public boolean tm(Activity p0,String p1,String p2,boolean p3){
       n this;
       boolean b;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       if (PatchProxy.isSupport(a.class)) {
          Object obj = PatchProxy.applyFourRefs(p0, p1, p2, Boolean.valueOf(p3), this, a.class, "37");
          if (obj != patchProxyRe) {
             return obj.booleanValue();
          }
       }
       a.p(p0, "context");
       this = n.f;
       Objects.requireNonNull(this);
       if (PatchProxy.isSupport(n.class)) {
          Object obj1 = PatchProxy.applyFourRefs(p0, p1, p2, Boolean.valueOf(p3), this, n.class, "5");
          if (obj1 != patchProxyRe) {
             b = obj1.booleanValue();
          label_0059 :
             return b;
          }
       }
       a.p(p0, "context");
       b = c.b(p0, p1, p2, p3, new i(p0, p3, p1));
       goto label_0059 ;
    }
    public void uj(){
       u a;
       k a1;
       MagicModel a2;
       MagicModel l;
       Object[] objArray = null;
       if (PatchProxy.applyVoid(objArray, this, a.class, "3")) {
          return;
       }
       n f = n.f;
       Objects.requireNonNull(f);
       if (!PatchProxy.applyVoid(objArray, f, n.class, "4")) {
          int i = 0;
          if (n.e != null) {
             objArray = new Object[i];
             g.D().w("KwaiAICutModule", "downloadYcnnSceneIfNeeded : has one checker", objArray);
          }else if(!c.c()){
             a = u.a;
             if (a.b("CATEGORY_MAGIC_YCNN_SCENE") == null || (a.b("CATEGORY_FACE_ATTR") == null || a.b("CATEGORY_YCNN_LAND_MARK") == null)) {
                w[] owArray = new w[]{a1.a(a2, i, i, i),a1.a(a2, i, i, i),a1.a(l, i, i, i)};
                a1 = k.a;
                a2 = e.A;
                a.o(a2, "InternalMagicModel.MAGIC_YCNN_GENERAL_RECOG");
                a2 = e.c;
                a.o(a2, "InternalMagicModel.MAGIC_YCNN_LANDMARK");
                l = e.l;
                a.o(l, "InternalMagicModel.MAGIC_YCNN_FACE_ATTRIBUTES");
                n.e = t.mergeArray(owArray).subscribeOn(d.c).takeLast(1).subscribe(j.b, k.b);
             }
          }
       }
       return;
    }
    public c xA(){
       Object[] objArray = null;
       o obj = PatchProxy.apply(objArray, this, a.class, "10");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = n.f.d();
       if (obj != null) {
          objArray = obj.a();
       }
       return objArray;
    }
    public void xo(c p0){
       if (PatchProxy.applyVoidOneRefs(p0, this, a.class, "15")) {
          return;
       }
       a.p(p0, "draft");
       o oo = n.f.d();
       if (oo != null) {
          oo.h(new EditorSdk2V2$VideoEditorProject(), p0);
       }
       return;
    }
    public VideoTemplateResponse y6(){
       Object[] objArray = null;
       f obj = PatchProxy.apply(objArray, this, a.class, "30");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = a.b.a();
       if (obj != null) {
          objArray = obj.M0();
       }
       return objArray;
    }
}
