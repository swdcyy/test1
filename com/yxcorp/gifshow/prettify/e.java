package com.yxcorp.gifshow.prettify.e;
import ng9.c;
import n1c.m$a;
import hg9.n;
import z0c.k0$c;
import oc9.q;
import ed9.d;
import com.kwai.gifshow.post.api.feature.camera.model.CameraPageType;
import com.yxcorp.gifshow.camera.record.base.b;
import qb9.d0;
import com.yxcorp.gifshow.prettify.e$a;
import com.yxcorp.gifshow.prettify.g;
import com.yxcorp.gifshow.prettify.e$b;
import z0c.k0;
import h80.j;
import h80.k;
import uv8.b2;
import n1c.m;
import tkd.b;
import tkd.d;
import t5b.a;
import lnc.s;
import com.yxcorp.gifshow.camera.record.base.d;
import com.yxcorp.gifshow.recycler.fragment.BaseFragment;
import qc9.a;
import com.yxcorp.gifshow.camera.record.video.viewbinder.bottom.AbsRecordBottomBarViewBinder;
import ng9.d;
import l0c.j;
import java.lang.Class;
import com.yxcorp.gifshow.camera.record.base.b$a;
import g16.c;
import l0c.i;
import ig9.c;
import l0c.o;
import erd.g;
import crd.b;
import uc9.b;
import l0c.r;
import com.yxcorp.gifshow.camera.record.duet.controller.c;
import l0c.p;
import android.app.Activity;
import android.view.View;
import java.lang.Object;
import java.lang.String;
import com.kwai.robust.PatchProxy;
import com.kwai.robust.PatchProxyResult;
import z0c.t;
import java.lang.Integer;
import l0c.u;
import java.lang.Runnable;
import t45.c;
import java.lang.Boolean;
import java.util.List;
import java.util.Iterator;
import oc9.t;
import l0c.f;
import j8c.a;
import java.lang.StringBuilder;
import q87.c;
import com.yxcorp.gifshow.camerasdk.q;
import java.util.HashSet;
import java.util.Collection;
import ekd.q;
import java.util.Set;
import java.util.ArrayList;
import boc.b;
import com.yxcorp.gifshow.util.resource.p;
import w46.b;
import l0c.w;
import java.lang.Long;
import lnc.z6;
import java.lang.reflect.Type;
import java.util.Map;
import oa0.a;
import android.content.SharedPreferences$Editor;
import android.content.SharedPreferences;
import km8.b;
import oe6.g;
import oc9.w;
import java.lang.Number;
import com.yxcorp.gifshow.prettify.beauty.d;
import z0c.m;
import w0c.d;
import com.yxcorp.gifshow.prettify.makeup.h;
import p0c.g;
import android.content.Intent;
import l0c.l;
import l0c.t;
import qxc.b;
import com.yxcorp.gifshow.image.KwaiImageView;
import ug9.c;
import wd9.a;
import pi9.e;
import androidx.constraintlayout.widget.ConstraintLayout;
import android.widget.TextView;
import com.kwai.gifshow.post.api.core.event.PanelShowEvent;
import l0c.n;
import eoc.f;
import zb9.p0;
import zb9.p0$a;
import hf9.b;
import hf9.b$a;
import com.yxcorp.utility.n;
import com.kuaishou.viewbinder.IViewBinder;
import android.view.View$OnClickListener;
import c35.p;
import lnc.s6;
import pi9.i;
import android.graphics.drawable.Drawable;
import lnc.a1;
import android.content.res.Resources;
import hi9.d;
import java.util.Objects;
import com.yxcorp.gifshow.camera.bubble.RecordBubbleItem;
import ra9.c;
import com.yxcorp.gifshow.camera.bubble.c;
import com.yxcorp.gifshow.prettify.d;
import yc9.b;
import lnc.i3;
import zb9.k;
import zb9.k$a;
import com.kuaishou.client.log.event.packages.nano.ClientEvent$ElementPackage;
import hg9.u;
import com.yxcorp.gifshow.prettify.beauty.h$a;
import ce9.l;
import com.kwai.feature.post.api.componet.prettify.beauty.BeautifyConfig;
import com.kwai.feature.post.api.componet.prettify.filter.model.FilterConfig;
import com.kwai.feature.post.api.componet.prettify.makeup.model.a;
import com.yxcorp.gifshow.model.MagicEmoji$MagicFace;
import w0c.r;
import w0c.r$a;
import qr4.k$c;
import androidx.fragment.app.Fragment;
import com.yxcorp.gifshow.bubble.PostBubbleManager;
import com.yxcorp.gifshow.prettify.PrettifyPreferenceKey;
import com.yxcorp.gifshow.util.resource.n$c;
import com.yxcorp.gifshow.util.resource.n;
import com.kwai.library.widget.popup.common.c;
import android.view.KeyEvent;
import a2.i0;
import l0c.s;
import com.kwai.library.widget.popup.common.f;
import w0c.m;
import java.io.File;
import android.graphics.Bitmap;
import hg9.m;
import e17.i;
import wc9.v;
import com.yxcorp.gifshow.dialog.PostDialogPlugin;
import u07.t$a;
import com.yxcorp.gifshow.dialog.PostDialogPlugin$DialogScenario;
import com.yxcorp.gifshow.util.PostExperimentUtils;
import p0c.h$a;
import p0c.e;
import p0c.e$a;
import com.kwai.feature.post.api.componet.prettify.PrettyGuideInfo;
import p0c.c;
import p0c.a;
import p0c.f;
import p0c.b;
import k1c.c;
import k1c.c$a;
import k1c.c$b;
import n0c.b;
import com.yxcorp.gifshow.prettify.e$c;
import java.lang.Enum;
import p0c.h;
import p0c.d;
import ekd.j0;
import com.yxcorp.gifshow.prettify.beauty.h;
import java.lang.CharSequence;
import com.yxcorp.utility.TextUtils;
import w0c.s;
import yyb.b;
import android.os.Bundle;
import java.io.Serializable;
import com.kwai.plugin.dva.feature.core.hook.SerializableHook;
import com.yxcorp.gifshow.prettify.RecordPrettifyFragment;
import o0c.a;
import kotlin.jvm.internal.a;
import l0c.k;
import androidx.fragment.app.c;
import androidx.fragment.app.e;
import xyb.a;
import java.lang.Throwable;
import android.util.Log;
import com.yxcorp.gifshow.util.PostUtils;
import com.yxcorp.gifshow.camera.record.CameraLogger;
import org.json.JSONObject;
import q0c.o2;
import uv8.w1;
import k2b.e0;
import com.kuaishou.client.log.content.packages.nano.ClientContent$ContentPackage;
import com.kuaishou.client.log.content.packages.nano.ClientContentWrapper$ContentWrapper;
import k2b.u1;
import oe6.e;
import l0c.v;

public class e extends q implements c, m$a, n, k0$c	// class@001144
{
    public boolean A;
    public m B;
    public n$c C;
    public c D;
    public boolean E;
    public a F;
    public m G;
    public AbsRecordBottomBarViewBinder H;
    public c I;
    public final g J;
    public k0 K;
    public final b L;
    public boolean p;
    public d0 q;
    public KwaiImageView r;
    public View s;
    public View t;
    public View u;
    public TextView v;
    public PrettyGuideInfo w;
    public boolean x;
    public boolean y;
    public View z;
    public static final d M;
    public static boolean N;

    static {
       e.M = new d();
    }
    public void e(CameraPageType p0,b p1){
       super(p0, p1);
       this.q = new d0();
       this.x = false;
       this.y = false;
       this.G = new e$a(this);
       g og = new g();
       this.J = og;
       this.L = new e$b(this);
       this.K = new k0(this);
       if (k.d() == null) {
          k ok = k.class;
          _monitor_enter(ok);
          k.d = new b2();
          _monitor_exit(ok);
       }
       this.B = new m(this);
       int i = d.a(0x3bf0d115).isAvailable() ^ 0x01;
       this.p = i;
       if (!i) {
          this.r2(this.f);
       }
       d tf = this.f;
       if (tf instanceof a) {
          this.H = tf.zb();
       }
       this.d.n(d.class, new j(this));
       this.d.n(c.class, new i(this));
       this.d.l(c.class, new o(this));
       this.d.l(b.class, new r(this));
       this.d.l(c.class, new p(this));
       og.i(this.e);
       og.j(this.e.findViewById(R.id.preview));
       return;
    }
    public static c f2(e p0){
       return p0.p2();
    }
    private c p2(){
       Object obj = PatchProxy.apply(null, this, e.class, "34");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       if (this.I == null) {
          this.I = new t();
       }
       return this.I;
    }
    private void s2(int p0){
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidOneRefs(Integer.valueOf(p0), this, uoe, "44")) {
          return;
       }
       c.a(new u(this, p0));
       return;
    }
    public boolean A(){
       t ot;
       Iterator obj = PatchProxy.apply(null, this, e.class, "9");
       if (obj != PatchProxyResult.class) {
          return obj.booleanValue();
       }
       obj = this.getChildren().iterator();
       while (true) {
          if (!obj.hasNext()) {
             return true;
          }
          ot = obj.next();
          if (ot instanceof f && !ot.A()) {
             break ;
          }
       }
       Object[] objArray = new Object[0];
       a.D().A("PrettifyController", "PSER isResourceExist false:"+ot.z(), objArray);
       return 0;
    }
    public boolean C(){
       boolean b;
       e obj = PatchProxy.apply(null, this, e.class, "12");
       if (obj != PatchProxyResult.class) {
          return obj.booleanValue();
       }
       if (this.p == null) {
          obj = this.s;
          if (obj != null && obj.isEnabled()) {
             b = false;
          label_0026 :
             return b;
          }
       }
       b = true;
       goto label_0026 ;
    }
    public q G2(){
       return this.h;
    }
    public void R1(){
       e uoe = e.class;
       Object[] objArray = null;
       if (PatchProxy.applyVoid(objArray, this, uoe, "11")) {
          return;
       }
       ArrayList uArrayList = PatchProxy.apply(objArray, this, uoe, "10");
       if (uArrayList != PatchProxyResult.class) {
       }else {
          HashSet hashSet = new HashSet();
          Iterator iterator1 = this.getChildren().iterator();
          while (iterator1.hasNext()) {
             t ot = iterator1.next();
             if (ot instanceof f) {
                List list = ot.z();
                if (!q.f(list)) {
                   hashSet.addAll(list);
                }
             }
          }
          uArrayList = new ArrayList(hashSet);
       }
       ArrayList uArrayList1 = new ArrayList();
       Iterator iterator = uArrayList.iterator();
       while (iterator.hasNext()) {
          b uob = iterator.next();
          if (!p.h(uob)) {
             uArrayList1.add(uob);
          }
       }
       int i = 0;
       Object[] objArray1 = new Object[i];
       a.D().t("PrettifyController", "downloadResource "+uArrayList1, objArray1);
       if (!q.f(uArrayList1)) {
          Object[] objArray2 = new Object[i];
          a.D().w("PrettifyController", "startDownloadCategory "+uArrayList1, objArray2);
          if (k.d() != null && k.d().c()) {
             this.c2(uArrayList, "prettify_aggregation");
          }else {
             c.a(new w(uArrayList1));
          }
       }
       return;
    }
    public void U(int p0){
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidOneRefs(Integer.valueOf(p0), this, uoe, "22")) {
          return;
       }
       this.u2(p0, 0);
       return;
    }
    public void d0(){
       if (PatchProxy.applyVoid(null, this, e.class, "30")) {
          return;
       }
       Iterator iterator = this.getChildren().iterator();
       boolean b = true;
       boolean b1 = false;
       while (iterator.hasNext()) {
          t ot = iterator.next();
          if (ot instanceof f) {
             b1 = (b1 || ot.C0())? true: false;
             b = false;
          }
       }
       e ts = this.s;
       if (ts != null) {
          ts.setEnabled((b ^ 0x01));
          this.s.setSelected(b1);
       }
       return;
    }
    public final void g2(long p0,boolean p1){
       Object[] objArray;
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidTwoRefs(Long.valueOf(p0), Boolean.valueOf(p1), this, uoe, "16")) {
          return;
       }
       Map map = a.l0(z6.G3);
       int i = 0;
       if (map == null) {
          objArray = new Object[i];
          a.D().t("PrettifyController", "add pretty guide count false", objArray);
          return;
       }else {
          Long longx = map.get(Long.valueOf(p0));
          long l = Long.MAX_VALUE;
          if (longx != null && !longx.longValue() - l) {
             objArray = new Object[i];
             a.D().s("PrettifyController", "pretty guide check false before add, This should never happen", objArray);
             return;
          }else {
             Long longx1 = Long.valueOf(p0);
             if (!p1) {
                l = (longx == null)? 1: longx.longValue() + 1;
             }
          label_0068 :
             map.put(longx1, Long.valueOf(l));
             SharedPreferences$Editor uEditor = a.a.edit();
             uEditor.putString("pretty_guide_show_cnts", b.e(map));
             g.a(uEditor);
             return;
          }
       }
    }
    public String getTaskId(){
       Object obj = PatchProxy.apply(null, this, e.class, "50");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       return this.d.b().getTaskId();
    }
    public final int h2(int p0){
       List obj;
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe)) {
          obj = PatchProxy.applyOneRefs(Integer.valueOf(p0), this, uoe, "38");
          if (obj != PatchProxyResult.class) {
             return obj.intValue();
          }
       }
       obj = this.getChildren();
       int i = obj.size();
       int i1 = 0;
       while (true) {
          if (i1 >= i) {
             return g.b;
          }
          t ot = obj.get(i1);
          if (ot instanceof d && !p0) {
             break ;
          }else if(ot instanceof m && p0 == 3){
             return p0;
          }else if(ot instanceof d && p0 == 2){
             return p0;
          }else if(ot instanceof h && p0 == 1){
             return p0;
          }else {
             i1 = i1 + 1;
          }
       }
       return p0;
    }
    public final void i2(){
       if (PatchProxy.applyVoid(null, this, e.class, "39")) {
          return;
       }
       this.e.getIntent().putExtra("showPanelType", null);
       return;
    }
    public void k(View p0){
       ConstraintLayout uConstraintL;
       e uoe = e.class;
       if (PatchProxy.applyVoidOneRefs(p0, this, uoe, "2")) {
          return;
       }
       super.k(p0);
       Object[] objArray = null;
       if (!PatchProxy.applyVoid(objArray, this, uoe, "31") && this.C == null) {
          this.C = new l(this);
          this.b2(new t(this));
       }
       e tH = this.H;
       Object[] objArray1 = (tH == null)? objArray: tH.I();
       this.s = b.a(objArray1, p0, 0x7f0a05c9);
       if (p0 != null) {
          this.r = p0.findViewById(0x7f0a05df);
          this.u = p0.findViewById(0x7f0a05c8);
          if (this.d.d(c.c).a != null || this.d.d(a.i).d != null) {
             e.d(this.u);
          }
          tH = this.H;
          objArray1 = (tH == null)? objArray: tH.y();
          View view = b.a(objArray1, p0, R.id.action_bar_layout);
          this.t = view;
          e.i(this.s, view);
          this.v = p0.findViewById(0x7f0a05ca);
       }
       this.Y1(f.a(PanelShowEvent.class, new n(this)));
       int i = 1;
       int i1 = 0;
       if (!this.d.d(p0.j.a()).c() && !this.d.d(b.c.a()).a()) {
          View[] viewArray = new View[i];
          viewArray[i1] = this.s;
          n.Z(i1, viewArray);
       }
       tH = this.s;
       if (tH != null) {
          d tc = this.c;
          if (tc != CameraPageType.TIE_TIE && tc != CameraPageType.WHATS_UP) {
             p.a(this.H, tH, this.G);
             this.s.setOnClickListener(this.G);
          }
       }
       if (!PatchProxy.applyVoid(objArray, this, uoe, "3") && this.r != null) {
          uoe = this.s;
          if (uoe != null && !uoe.getVisibility()) {
             if (s6.m()) {
                View[] viewArray1 = new View[i];
                viewArray1[i1] = this.r;
                i.a(this.v, viewArray1);
                this.r.setImageDrawable(a1.f(R.drawable.arg_RES_7f080447));
             }else {
                this.r.setImageDrawable(a1.f(R.drawable.arg_RES_7f080446));
                d tc1 = this.c;
                int i2 = 0x7f080445;
                if (tc1 == CameraPageType.TIE_TIE || tc1 == CameraPageType.WHATS_UP) {
                   this.r.setImageDrawable(a1.f(i2));
                   e.c(this.r, this.u, this.v);
                   uoe = this.u;
                   Resources resources = this.e.getResources();
                   i2 = (d.e() - 0x3f078788 >= 0)? 0x7f0620c5: 0x7f0620c6;
                   e.k(uoe, resources.getColor(i2));
                }else if(e.e()){
                   this.r.setImageDrawable(a1.f(i2));
                   e.b(this.r, this.u, this.v);
                }
             }
          }
       }
       uoe = this.B;
       Objects.requireNonNull(uoe);
       m om = m.class;
       if (!PatchProxy.isSupport(om) || !PatchProxy.applyVoidTwoRefs(p0, Integer.valueOf(0x7f0a31bc), uoe, om, "1")) {
          uoe.c = p0.findViewById(0x7f0a31bc);
          uoe.d = 0x7f0a31bc;
       }
       this.D.s(RecordBubbleItem.PRETTIFY_GUIDE);
       this.b2(new d(this));
       if (this.y2() != g.b) {
          b uob = this.d.d(b.b());
          if (uob.a() || !uob.c()) {
             this.d.b().V7().s(RecordBubbleItem.BLOCK_ANY);
          }else {
             this.i2();
          }
       }
       return;
    }
    public i3 k2(i3 p0){
       k obj = PatchProxy.applyOneRefs(p0, this, e.class, "46");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       k$a l = k.l;
       obj = this.d.d(l.a());
       if (obj != l.a()) {
          p0.d("ai_record_type", obj.d());
          p0.d("ai_record_id", obj.a());
          p0.d("ai_record_name", obj.c());
          p0.c("ai_record_index", Integer.valueOf(obj.b()));
          p0.d("ai_func_type", obj.f());
          if (obj.i()) {
             p0.a("is_follow_shot", Boolean.TRUE);
          }
       }
       return p0;
    }
    public final ClientEvent$ElementPackage l2(){
       ClientEvent$ElementPackage obj = PatchProxy.apply(null, this, e.class, "45");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = new ClientEvent$ElementPackage();
       i3 oi3 = i3.f();
       oi3.a("is_quick_picture", Boolean.valueOf(this.d.d(u.b).a));
       this.k2(oi3);
       obj.params = oi3.e();
       return obj;
    }
    public final h$a m2(boolean p0,int p1){
       l obj;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe)) {
          obj = PatchProxy.applyTwoRefs(Boolean.valueOf(p0), Integer.valueOf(p1), this, uoe, "47");
          if (obj != patchProxyRe) {
             return obj;
          }
       }
       obj = this.d.d(l.i);
       h$a uoa = new h$a();
       uoa.b(this.d.c(BeautifyConfig.class));
       uoa.i(false);
       uoa.c(p1);
       h$a uoa1 = uoa.d(this.d.c(FilterConfig.class));
       uoa1 = uoa1.g(this.d.c(a.class)).e(obj.a);
       uoa1.j(obj.e);
       k$c uoc = this.d.d(r.d.a()).a();
       Object obj1 = PatchProxy.applyOneRefs(uoc, uoa1, h$a.class, "6");
       if (obj1 != patchProxyRe) {
          uoa1 = obj1;
       }else if(uoc != null){
          ArrayList uArrayList = new ArrayList();
          uoa1.m = uArrayList;
          uArrayList.add(uoc);
       }
       uoa1.k(p0);
       return uoa1;
    }
    public void n0(int p0){
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidOneRefs(Integer.valueOf(p0), this, uoe, "42")) {
          return;
       }
       this.s2(p0);
       return;
    }
    public PostBubbleManager n2(Fragment p0){
       return null;
    }
    public final String o2(){
       PrettifyPreferenceKey obj = PatchProxy.apply(null, this, e.class, "25");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = (this.c == CameraPageType.LIVE_COVER)? PrettifyPreferenceKey.LIVE: PrettifyPreferenceKey.RECORD;
       return obj.getKey();
    }
    public boolean onBackPressed(){
       Object obj = PatchProxy.apply(null, this, e.class, "8");
       if (obj != PatchProxyResult.class) {
          return obj.booleanValue();
       }
       return this.B.a();
    }
    public void onDestroy(){
       if (PatchProxy.applyVoid(null, this, e.class, "6")) {
          return;
       }
       super.onDestroy();
       e.N = true;
       return;
    }
    public void onDestroyView(){
       if (PatchProxy.applyVoid(null, this, e.class, "5")) {
          return;
       }
       super.onDestroyView();
       e tC = this.C;
       if (tC != null) {
          n.w(tC);
          this.C = null;
       }
       if (this.w != null) {
          this.w2(false);
       }
       tC = this.F;
       if (tC != null) {
          tC.o();
          this.F = null;
       }
       this.J.c(false);
       return;
    }
    public boolean onKeyDown(int p0,KeyEvent p1){
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe)) {
          Object obj = PatchProxy.applyTwoRefs(Integer.valueOf(p0), p1, this, uoe, "7");
          if (obj != PatchProxyResult.class) {
             return obj.booleanValue();
          }
       }
       if (p1 != null && (p1.isSystem() && this.B.b())) {
          this.B.a();
          return true;
       }else {
          return super.onKeyDown(p0, p1);
       }
    }
    public void onResume(){
       e uoe = e.class;
       Object[] objArray = null;
       if (PatchProxy.applyVoid(objArray, this, uoe, "4")) {
          return;
       }
       super.onResume();
       if (!PatchProxy.applyVoid(objArray, this, uoe, "40") && this.y2() != g.b) {
          View view = this.e.findViewById(R.id.camera_tab_scroll_container);
          if (view != null && !i0.Y(view)) {
             f.G(view, new s(this));
          }else {
             this.t2();
          }
       }
       return;
    }
    public k0 p1(){
       return this.K;
    }
    public void r2(BaseFragment p0){
       if (PatchProxy.applyVoidOneRefs(p0, this, e.class, "29")) {
          return;
       }
       if (d.u2()) {
          this.L0(new d(this.c, this.d, this));
       }
       d tc = this.c;
       if (tc != CameraPageType.TIE_TIE && tc != CameraPageType.WHATS_UP) {
          if (m.d(tc, this.d)) {
             this.L0(new d(this.c, this.d, this));
          }
          if (h.m2(p0, this.d)) {
             this.L0(new h(this.c, this.d, this));
          }
          this.L0(new m(this.c, this.d, this));
       }
       return;
    }
    public void t0(File p0,Bitmap p1,int p2){
       m.a(this, p0, p1, p2);
    }
    public void t2(){
       if (PatchProxy.applyVoid(null, this, e.class, "23")) {
          return;
       }
       this.u2(g.b, 0);
       return;
    }
    public void u2(int p0,int p1){
       Object[] objArray;
       int i1;
       d e;
       Object[] obj;
       Object[] objArray1;
       e$a obj1;
       e obj2;
       int i2;
       d f;
       JSONObject jSONObject;
       d e1;
       m c;
       boolean b = this;
       PatchProxyResult patchProxyRe = PatchProxyResult.class;
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidTwoRefs(Integer.valueOf(p0), Integer.valueOf(p1), b, uoe, "24")) {
          return;
       }
       k ok = b.d.d(k.l.a());
       boolean i = 0x7f11066a;
       if (ok.g() && !ok.e()) {
          i.a(i, R.string.on);
          return;
       }else {
          String str = "PrettifyController";
          if (ok.h()) {
             objArray = new Object[0];
             a.D().w(str, "assistantData is KUAISHAN_TYPE", objArray);
             return;
          }else {
             b.x = true;
             if (b.d.d(v.e).b != null) {
                objArray = new Object[0];
                a.D().w(str, "onSwitchPrettifyBtnClick mIsCountDowning", objArray);
                return;
             }else if(b.d.d(l.i).c != null){
                objArray = new Object[0];
                a.D().w(str, "onSwitchPrettifyBtnClick mIsMagicPanelShowing", objArray);
                return;
             }else if(b.p != null){
                t$a uoa = new t$a(b.e);
                uoa.y0(R.string.arg_RES_7f103e18);
                uoa.S0(R.string.arg_RES_7f1007e2);
                d.a(0x34dc9f9c).lV(uoa, PostDialogPlugin$DialogScenario.UNKNOWN);
                return;
             }else {
                e s = b.s;
                if (s != null && !s.isEnabled()) {
                   i1 = (PostExperimentUtils.p())? 0x7f1040e6: 0x7f1040e5;
                   i.a(i, i1);
                   return;
                }else if(k.d() != null && k.d().c()){
                   i = true;
                }else {
                   i = false;
                }
                s = b.B;
                e = b.e;
                Objects.requireNonNull(s);
                m om = m.class;
                if (PatchProxy.isSupport(om)) {
                   obj = PatchProxy.applyTwoRefs(e, Boolean.valueOf(i), s, om, "5");
                   if (obj != patchProxyRe) {
                      i = obj.booleanValue();
                   }else {
                   label_0103 :
                      om = s.b;
                      if (om != null && (!om.C() && (e == null || e.isFinishing()))) {
                         s.a();
                      }else if(s.b()){
                         s.a();
                      }else if(!s.b.A()){
                         s.b.R1();
                      }else {
                         i = false;
                      }
                      i = true;
                   }
                }else {
                   goto label_0103 ;
                }
                if (!i) {
                   i = (b.w != null && (b.D != null && b.y != null))? true: false;
                   h$a uoa1 = new h$a();
                   String str1 = "1";
                   obj = null;
                   if (i) {
                      objArray1 = PatchProxy.apply(obj, b, uoe, "20");
                      if (objArray1 != patchProxyRe) {
                      }else {
                         obj2 = b.w;
                         if (obj2 == null) {
                         label_015e :
                            objArray1 = obj;
                         }else {
                            obj1 = new e$a();
                            obj1.a = obj2.d();
                            obj1.b = b.w.b();
                            obj1.c = b.w.mSelected;
                            objArray1 = PatchProxy.apply(obj, obj1, e$a.class, str1);
                            if (objArray1 != patchProxyRe) {
                            }else {
                               obj2 = new e(obj1);
                            }
                         }
                      }
                   }else {
                      goto label_015e ;
                   }
                   obj1 = PatchProxy.applyOneRefs(objArray1, uoa1, h$a.class, "9");
                   if (obj1 != patchProxyRe) {
                      uoa1 = obj1;
                   }else {
                      uoa1.f = objArray1;
                      uoa1.c.i = objArray1;
                      uoa1.b.n = objArray1;
                      uoa1.d.l = objArray1;
                      uoa1.e.c = objArray1;
                   }
                   uoa1 = uoa1.c(c.c.a().a()).d(b.L);
                   obj2 = PatchProxy.apply(obj, b, uoe, "26");
                   if (obj2 != patchProxyRe) {
                      i2 = obj2.intValue();
                   }else {
                      switch (e$c.a[b.c.ordinal()]){
                          case 1:
                          case 3:
                          case 4:
                          case 2:
                            i2 = 1;
                            break;
                          case 5:
                          case 6:
                            i2 = 3;
                            break;
                          default:
                            i2 = 0;
                      }
                   }
                   h oh = uoa1.b(i2).a();
                   if (b.A != null) {
                      oh.a().S(true);
                      b.A = false;
                   }
                   oh.a().F = p1;
                   i2 = this.y2();
                   int b1 = g.b;
                   int i3 = p0;
                   if (i3 != b1) {
                      i2 = i3;
                   }
                   if (i2 != b1) {
                      oh.g().e(i2);
                      this.i2();
                   }else {
                      obj2 = PatchProxy.apply(obj, b, uoe, "36");
                      String str3 = "showPanelTypeDefault";
                      i1 = (obj2 != patchProxyRe)? obj2.intValue(): b.h2(j0.b(b.e.getIntent(), str3, b1));
                      if (i1 != b1) {
                         oh.g().e(i1);
                         if (!PatchProxy.applyVoid(obj, b, uoe, "37")) {
                            b.e.getIntent().putExtra(str3, b1);
                         }
                      }
                   }
                   if (i) {
                      h.k(b.w, true);
                      b.g2((long)b.w.a(), true);
                   }
                   b.w2(i);
                   oh.g().g(R.layout.arg_RES_7f0d0500);
                   oh.j(true);
                   oh.g().h(this.o2());
                   oh.g().c().clear();
                   if (TextUtils.n(PrettifyPreferenceKey.RECORD.getKey(), this.o2())) {
                      oh.b().g(new s(0, "record"));
                   }
                   Iterator iterator = this.getChildren().iterator();
                   while (iterator.hasNext()) {
                      t ot = iterator.next();
                      if (ot instanceof f) {
                         ot.c0(oh);
                      }
                   }
                   if (!PatchProxy.applyVoidOneRefs(oh, b, uoe, "27") && k.d() != null) {
                      b uob = k.d().b(new b());
                      if (!q.f(uob.d)) {
                         oh.g().i(uob.d);
                      }
                      if (uob.a != null) {
                         oh.a().L(uob.a.booleanValue());
                      }
                   }
                label_02ff :
                   if (oh.g().c().size() > 0) {
                      Bundle uBundle = new Bundle();
                      SerializableHook.putSerializable(uBundle, "page_key", b.c);
                      RecordPrettifyFragment recordPretti = new RecordPrettifyFragment();
                      oh.k = b.n2(recordPretti);
                      if (!PatchProxy.applyVoidOneRefs(oh, recordPretti, RecordPrettifyFragment.class, str1)) {
                         recordPretti.D = oh;
                         oh.g().f(recordPretti);
                         recordPretti.F = recordPretti.D.a().a();
                         a uoa2 = recordPretti.D.a();
                         RecordPrettifyFragment f1 = recordPretti.F;
                         Objects.requireNonNull(uoa2);
                         if (!PatchProxy.applyVoidOneRefs(f1, uoa2, a.class, "2")) {
                            a.p(f1, "<set-?>");
                            uoa2.h = f1;
                         }
                      }
                      recordPretti.setArguments(uBundle);
                      recordPretti.E = this.p2();
                      recordPretti.G = new k(b);
                      e b2 = b.B;
                      f = b.f;
                      Objects.requireNonNull(b2);
                      if (!PatchProxy.applyVoidThreeRefs(f, recordPretti, "Prettify", b2, m.class, "2")) {
                         c childFragmen = f.getChildFragmentManager();
                         c = b2.c;
                         if (c != null) {
                            c.setVisibility(0);
                         }
                         try{
                            e uoe1 = childFragmen.beginTransaction();
                            uoe1.w(b2.d, recordPretti, "Prettify");
                            uoe1.m();
                         }catch(java.lang.IllegalArgumentException e0){
                            Object[] objArray2 = new Object[0];
                            a.D().u("PrettifyHelper", e0, objArray2);
                            PostUtils.x("prettify_exception", Log.getStackTraceString(e0));
                         }
                         b2.a = recordPretti;
                      }
                      String str2 = CameraLogger.b(ok.d(), ok.a(), ok.c(), ok.b(), ok.f(), ok.i());
                      if (!TextUtils.x(str2)) {
                         try{
                            jSONObject = new JSONObject(str2);
                         }catch(org.json.JSONException e0){
                         }
                         if (!PatchProxy.applyVoidThreeRefs(Boolean.valueOf(i1), e1, jSONObject, null, w1.class, "1")) {
                            ClientEvent$ElementPackage uElementPack = new ClientEvent$ElementPackage();
                            uElementPack.action = 406;
                            uElementPack.name = "prettify_aggregation";
                            uElementPack.type = 1;
                            if (jSONObject == null) {
                               jSONObject = new JSONObject();
                            }
                            try{
                               jSONObject.put("is_new_version", i1);
                            }catch(org.json.JSONException e0){
                               a.D().z("PrettifyLogger", "build json failed", e0);
                            }
                            uElementPack.params = jSONObject.toString();
                            u1.M("", e1, 1, uElementPack, null, null);
                         }
                      }
                      i1 = o2.b();
                      e1 = b.e;
                      if (!PatchProxy.isSupport(w1.class) || !PatchProxy.applyVoidThreeRefs(Boolean.valueOf(i1), e1, jSONObject, null, w1.class, "1")) {
                      }
                   }
                }
             label_0435 :
                if (b.c == CameraPageType.LIVE_COVER) {
                   CameraLogger.i(431, "BEAUTY");
                }
                return;
             }
          }
       }
    }
    public void v2(boolean p0){
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidOneRefs(Boolean.valueOf(p0), this, uoe, "33")) {
          return;
       }
       uoe = this.s;
       if (uoe != null) {
          uoe.setClickable(p0);
          this.s.setPressed(false);
       }
       return;
    }
    public void w1(Intent p0){
       if (PatchProxy.applyVoidOneRefs(p0, this, e.class, "1")) {
          return;
       }
       super.w1(p0);
       this.D = this.d.b().V7();
       return;
    }
    public final void w2(boolean p0){
       e uoe = e.class;
       if (PatchProxy.isSupport(uoe) && PatchProxy.applyVoidOneRefs(Boolean.valueOf(p0), this, uoe, "21")) {
          return;
       }
       e.A0(p0);
       this.w = null;
       return;
    }
    public void x0(File p0,Bitmap p1,int p2){
       if (PatchProxy.isSupport(e.class) && PatchProxy.applyVoidThreeRefs(p0, p1, Integer.valueOf(p2), this, e.class, "41")) {
          return;
       }
       boolean b = true;
       if (p0 != null && p0.exists()) {
          if (!PatchProxy.applyVoid(null, this, e.class, "43")) {
             c.a(new v(this, this.m2(b, 0)));
          }
       }else {
          this.s2(b);
       }
       return;
    }
    public final int y2(){
       String obj = PatchProxy.apply(null, this, e.class, "35");
       if (obj != PatchProxyResult.class) {
          return obj.intValue();
       }
       obj = j0.f(this.e.getIntent(), "showPanelType");
       if (obj == null || ("magicFace").equals(obj)) {
          return g.b;
       }
       int i = -1;
       switch (obj.hashCode()){
           case 0x943d5cea:
             if (obj.equals("bodyRetouch")) {
                i = 0;
             }
             break;
           case 0xb408cb78:
             if (obj.equals("filter")) {
                i = 1;
             }
             break;
           case 0xbf895109:
             if (obj.equals("makeup")) {
                i = 2;
             }
             break;
           case 0xd9f007cf:
             if (obj.equals("faceRetouch")) {
                i = 3;
             }
             break;
           default:
       }
       switch (i){
           case 0:
             return this.h2(2);
           case 1:
             return this.h2(3);
           case 2:
             return this.h2(1);
           case 3:
             return this.h2(0);
           default:
             return g.b;
       }
    }
    public List z(){
       HashSet obj = PatchProxy.apply(null, this, e.class, "10");
       if (obj != PatchProxyResult.class) {
          return obj;
       }
       obj = new HashSet();
       Iterator iterator = this.getChildren().iterator();
       while (iterator.hasNext()) {
          t ot = iterator.next();
          if (ot instanceof f) {
             List list = ot.z();
             if (!q.f(list)) {
                obj.addAll(list);
             }
          }
       }
       return new ArrayList(obj);
    }
}
